{
  "name": "Logix Protocol Component",
  "version": "1.0.0",
  "author": "Koios Component SDK Example",
  "description": "EtherNet/IP communication component for Allen-Bradley Logix PLCs",
  "category": "communication",
  "koios_version_min": "1.0.0",
  "entry_point": "component.LogixProtocolComponent",
  "dependencies": [
    "pycomm3>=1.2.14"
  ],
  "parameters": {
    "host": {
      "type": "string",
      "description": "PLC hostname or IP address",
      "required": true,
      "default": "192.168.1.137",
      "validation": {
        "pattern": "^(?:[0-9]{1,3}\\.){3}[0-9]{1,3}$|^[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9]?(?:\\.[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9]?)*$"
      }
    },
    "controller_slot": {
      "type": "integer",
      "description": "Controller slot number in the chassis",
      "required": false,
      "default": 0,
      "validation": {
        "minimum": 0,
        "maximum": 16
      }
    },
    "timeout": {
      "type": "float",
      "description": "Communication timeout in seconds",
      "required": false,
      "default": 5.0,
      "validation": {
        "minimum": 0.1,
        "maximum": 60.0
      }
    },
    "retry_count": {
      "type": "integer",
      "description": "Number of retry attempts on communication failure",
      "required": false,
      "default": 3,
      "validation": {
        "minimum": 0,
        "maximum": 10
      }
    },
    "retry_delay": {
      "type": "float",
      "description": "Delay between retry attempts in seconds",
      "required": false,
      "default": 1.0,
      "validation": {
        "minimum": 0.1,
        "maximum": 10.0
      }
    },
    "enable_auto_reconnect": {
      "type": "boolean",
      "description": "Enable automatic reconnection on connection loss",
      "required": false,
      "default": true
    },
    "read_batch_size": {
      "type": "integer",
      "description": "Maximum number of tags to read in a single batch",
      "required": false,
      "default": 20,
      "validation": {
        "minimum": 1,
        "maximum": 100
      }
    },
    "write_batch_size": {
      "type": "integer",
      "description": "Maximum number of tags to write in a single batch",
      "required": false,
      "default": 20,
      "validation": {
        "minimum": 1,
        "maximum": 100
      }
    },
    "health_check_interval": {
      "type": "float",
      "description": "Interval between health checks in seconds",
      "required": false,
      "default": 30.0,
      "validation": {
        "minimum": 5.0,
        "maximum": 300.0
      }
    },
    "tags": {
      "type": "json",
      "description": "List of tag definitions with name, address, data_type, and writable flag",
      "required": false,
      "default": [],
      "validation": {
        "type": "array",
        "items": {
          "type": "object",
          "required": ["name", "address"],
          "properties": {
            "name": {
              "type": "string",
              "description": "Unique tag name"
            },
            "address": {
              "type": "string",
              "description": "PLC tag address"
            },
            "data_type": {
              "type": "integer",
              "description": "Data type: 1=INTEGER, 2=REAL, 3=BOOLEAN",
              "enum": [1, 2, 3],
              "default": 2
            },
            "writable": {
              "type": "boolean",
              "description": "Whether the tag can be written to",
              "default": false
            }
          }
        }
      }
    }
  },
  "bindings": {
    "inputs": [],
    "outputs": [
      {
        "name": "connected",
        "description": "Connection status"
      },
      {
        "name": "read_count",
        "description": "Total number of successful reads"
      },
      {
        "name": "write_count",
        "description": "Total number of successful writes"
      },
      {
        "name": "error_count",
        "description": "Total number of errors"
      },
      {
        "name": "health_status",
        "description": "Current health status"
      }
    ]
  },
  "tags": [
    "ethernet/ip",
    "logix",
    "allen-bradley",
    "protocol",
    "communication",
    "plc"
  ],
  "license": "MIT",
  "documentation": {
    "readme": "README.md",
    "examples": ["basic_usage.py", "batch_operations.py"],
    "api_reference": "https://docs.ai-op.com/components/logix-protocol"
  },
  "testing": {
    "test_scenarios": [
      "connection",
      "disconnection",
      "single_read",
      "batch_read",
      "single_write",
      "batch_write",
      "health_check",
      "reconnection",
      "error_handling"
    ],
    "mock_configuration": {
      "host": "127.0.0.1",
      "controller_slot": 0,
      "tags": [
        {
          "name": "test_tag_1",
          "address": "TestTag1",
          "data_type": 2,
          "writable": false
        },
        {
          "name": "test_tag_2",
          "address": "TestTag2",
          "data_type": 1,
          "writable": true
        }
      ]
    }
  },
  "health_monitoring": {
    "connection_timeout_alert": {
      "enabled": true,
      "threshold": 10.0,
      "message": "Connection timeout exceeded"
    },
    "error_rate_alert": {
      "enabled": true,
      "threshold": 0.1,
      "message": "Error rate exceeds 10%"
    }
  }
}

